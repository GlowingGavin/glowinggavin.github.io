<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AlienGamer Chess</title>

<!-- ✅ Use verified CDN versions -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chessboardjs@1.0.0/www/css/chessboard-1.0.0.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chess.js@1.0.0/dist/chess.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chessboardjs@1.0.0/www/js/chessboard-1.0.0.min.js"></script>

<style>
  body {
    background: radial-gradient(circle at center, #111 0%, #000 100%);
    color: #fff;
    text-align: center;
    font-family: "Segoe UI", sans-serif;
    margin: 0;
    padding: 40px;
  }

  h2 {
    margin-bottom: 10px;
  }

  #board {
    width: 480px;
    height: 480px;
    margin: 20px auto;
    border: 4px solid #000;
    box-shadow: 0 0 15px #0ff;
  }

  #status {
    margin-top: 15px;
    font-size: 1.2em;
    letter-spacing: 1px;
  }
</style>
</head>

<body>
  <h2>♟ AlienGamer Chess ♟</h2>
  <div id="board"></div>
  <div id="status">Loading...</div>

<script>
$(function() {
  const game = new Chess();

  const config = {
    draggable: true,
    position: 'start',
    pieceTheme: piece => `pieces/${piece.toLowerCase()}.png`,
    onDragStart: (source, piece) => {
      if (game.game_over()) return false;
      if ((game.turn() === 'w' && piece.startsWith('b')) ||
          (game.turn() === 'b' && piece.startsWith('w')))
        return false;
    },
    onDrop: (source, target) => {
      const move = game.move({ from: source, to: target, promotion: 'q' });
      if (move === null) return 'snapback';
      updateStatus();
    },
    onSnapEnd: () => board.position(game.fen())
  };

  const board = Chessboard('board', config);

  function updateStatus() {
    let status = '';
    const moveColor = game.turn() === 'w' ? 'White' : 'Black';

    if (game.in_checkmate()) {
      status = `Checkmate! ${moveColor === 'w' ? 'Black' : 'White'} wins!`;
    } else if (game.in_draw()) {
      status = 'Draw!';
    } else {
      status = `${moveColor} to move`;
      if (game.in_check()) status += ` — ${moveColor} is in check!`;
    }

    $('#status').text(status);
  }

  updateStatus();
});
</script>
</body>
</html>
